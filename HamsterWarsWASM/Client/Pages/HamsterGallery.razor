@page "/gallery"
@using HamsterWarsWASM.Shared.Service
@inject IHamsterService HamsterService
@inject NavigationManager NavigationManager


@if(HamsterService.Hamsters == null || HamsterService.Hamsters.Count == 0)
{
    <span>Loading cute hamsters plz wait......</span>
}
else
{
    <button class="btn btn-primary" @onclick="CreateHamster">
        Click here to add a new hamster
    </button>

    <ul class="list-unstyled">
        @foreach (var hamster in HamsterService.Hamsters)
        {
            if (hamster.Deleted == false)
            {
                <li class="media my-3">
                    <div class="media-img-wrapper mr-2">
                        <a href="/matchwinners/@hamster.Id">@hamster.Name</a>
                        <div class="btn btn-danger">Remove</div>
                    </div>
                </li>
            }
        }
    </ul>
}

@code {

    protected override async Task OnInitializedAsync()
    {
        await HamsterService.GetHamsters();
    }

    void CreateHamster()
    {
        NavigationManager.NavigateTo("/create");
    }
}
